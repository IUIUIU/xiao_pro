(function(e){function t(t){for(var r,o,i=t[0],l=t[1],c=t[2],d=0,m=[];d<i.length;d++)o=i[d],n[o]&&m.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"164e":function(e,t){e.exports=echarts},"1af2":function(e,t){e.exports=NProgress},"3ae1":function(e,t,a){},"49a1":function(e,t,a){},"4ffd":function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},"56d7":function(e,t,a){"use strict";a.r(t);a("0fb7"),a("450d");var r=a("f529"),n=a.n(r),s=(a("9e1f"),a("6ed5")),o=a.n(s),i=(a("de31"),a("c69e")),l=a.n(i),c=(a("a769"),a("5cc3")),u=a.n(c),d=(a("a673"),a("7b31")),m=a.n(d),p=(a("adec"),a("3d2d")),f=a.n(p),g=(a("28b2"),a("c7ad")),h=a.n(g),b=(a("9c49"),a("6640")),v=a.n(b),y=(a("d2ac"),a("95b0")),w=a.n(y),_=(a("b8e0"),a("a4c4")),x=a.n(_),k=(a("f225"),a("89a9")),F=a.n(k),$=(a("f4f9"),a("c2cc")),C=a.n($),L=(a("7a0f"),a("0f6c")),R=a.n(L),O=(a("aaa5"),a("a578")),P=a.n(O),j=(a("915d"),a("e04d")),q=a.n(j),S=(a("cbb5"),a("8bbc")),D=a.n(S),E=(a("e612"),a("dd87")),T=a.n(E),z=(a("075a"),a("72aa")),I=a.n(z),U=(a("eca7"),a("3787")),B=a.n(U),N=(a("425f"),a("4105")),A=a.n(N),G=(a("b84d"),a("c216")),M=a.n(G),V=(a("8f24"),a("76b9")),H=a.n(V),J=(a("0c67"),a("299c")),X=a.n(J),Y=(a("5466"),a("ecdf")),Z=a.n(Y),K=(a("38a0"),a("ad41")),Q=a.n(K),W=(a("1951"),a("eedf")),ee=a.n(W),te=(a("6611"),a("e772")),ae=a.n(te),re=(a("1f1a"),a("4e4b")),ne=a.n(re),se=(a("e960"),a("b35b")),oe=a.n(se),ie=(a("d4df"),a("7fc1")),le=a.n(ie),ce=(a("560b"),a("dcdc")),ue=a.n(ce),de=(a("10cb"),a("f3ad")),me=a.n(de),pe=(a("8bd8"),a("4cb2")),fe=a.n(pe),ge=(a("ce18"),a("f58e")),he=a.n(ge),be=(a("4ca3"),a("443e")),ve=a.n(be),ye=(a("a7cc"),a("df33")),we=a.n(ye),_e=(a("672e"),a("101e")),xe=a.n(_e),ke=(a("cadf"),a("551c"),a("f751"),a("097d"),a("8bbf")),Fe=a.n(ke),$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},Ce=[],Le=a("2877"),Re={},Oe=Object(Le["a"])(Re,$e,Ce,!1,null,null,null),Pe=Oe.exports,je=a("6389"),qe=a.n(je),Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("div",{staticClass:"login-box"},[e._m(0),a("el-form",{ref:"loginFormRef",attrs:{model:e.loginForm,rules:e.loginFormRules}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{ref:"myname",attrs:{clearable:""},on:{clear:function(t){return e.login()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[a("i",{staticClass:"iconfont icon-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{ref:"mypass",attrs:{clearable:"","show-password":""},on:{clear:function(t){return e.login()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[a("i",{staticClass:"iconfont icon-3702mima",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-row",[a("el-col",{attrs:{push:15}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.login()}}},[e._v("登录")]),a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.$refs.loginFormRef.resetFields()}}},[e._v("重置")])],1)],1)],1)],1)])},De=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"avatar-box"},[r("img",{attrs:{src:a("71c3"),alt:""}})])}],Ee=(a("96cf"),a("3b8d")),Te=(a("82da"),{data:function(){return{loginForm:{username:"admin",password:"123456"},loginFormRules:{username:[{required:!0,message:"用户名必填",trigger:"blur"}],password:[{required:!0,message:"密码必填",trigger:"blur"}]}}},methods:{login:function(){var e=this;this.$refs.loginFormRef.validate(function(){var t=Object(Ee["a"])(regeneratorRuntime.mark(function t(a){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}return t.next=3,e.$http.post("login",e.loginForm);case 3:r=t.sent,n=r.data,console.log(n),window.sessionStorage.setItem("token",n.data.token),e.$message.success(n.meta.msg),e.$router.push("/home");case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},watch:{"loginForm.username":function(e){0!==e.trim().length?this.$refs.myname.getInput().style.border="2px solid green ":this.$refs.myname.getInput().style.border="2px solid red"},"loginForm.password":function(e){e.trim().length<6?this.$refs.mypass.getInput().style.border="2px solid red":this.$refs.mypass.getInput().style.border="2px solid green"}}}),ze=Te,Ie=(a("ebfb"),Object(Le["a"])(ze,Se,De,!1,null,"74062aaa",null)),Ue=Ie.exports,Be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-header",[r("div",{staticClass:"logo-box"},[r("img",{attrs:{src:a("4ffd"),alt:""}}),r("span",[e._v("VUE后台管理项目")])]),r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.logout()}}},[e._v("退出")])],1),r("el-container",[r("el-aside",{attrs:{width:e.fold?"65px":"200px"}},[r("div",{staticClass:"toggle_bar",on:{click:function(t){e.fold=!e.fold}}},[e._v("|||")]),r("el-menu",{attrs:{"background-color":"#333744","text-color":"#fff","active-text-color":"#409eff","unique-opened":"",collapse:e.fold,"collapse-transition":!1,router:""}},e._l(e.menuList,function(t){return r("el-submenu",{key:t.id,style:{width:e.fold?"65px":"200px"},attrs:{index:t.id+""}},[r("template",{slot:"title"},[r("i",{class:"iconfont icon-"+e.iconList[t.path]}),r("span",[e._v(e._s(t.authName))])]),e._l(t.children,function(t){return r("el-menu-item",{key:t.id,attrs:{index:t.path}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-menu"}),r("span",[e._v(e._s(t.authName))])])],2)})],2)}),1)],1),r("el-main",[r("router-view")],1)],1)],1)},Ne=[],Ae={created:function(){this.getMenuList()},methods:{logout:function(){var e=this;this.$confirm("确认退出系统登录吗?","退出",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){window.sessionStorage.clear(),e.$router.push("/login")}).catch(function(){})},getMenuList:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("menus");case 2:t=e.sent,a=t.data,this.menuList=a.data;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},data:function(){return{fold:!1,menuList:[],iconList:{users:"users",rights:"tijikongjian",goods:"shangpin",orders:"danju",reports:"baobiao"}}}},Ge=Ae,Me=(a("7def"),Object(Le["a"])(Ge,Be,Ne,!1,null,"d39b6bc2",null)),Ve=Me.exports,He=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Je=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("欢迎访问VUE后台管理项目")]),r("img",{attrs:{src:a("d20b"),alt:""}})])}],Xe={},Ye=Xe,Ze=(a("b6fe"),Object(Le["a"])(Ye,He,Je,!1,null,"5bcc8cc1",null)),Ke=Ze.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("bread-crumb",{attrs:{one:"用户管理",two:"用户列表",three:"users"}}),a("el-dialog",{attrs:{title:"添加用户",visible:e.addDialog,width:"50%"},on:{"update:visible":function(t){e.addDialog=t},close:function(t){return e.$refs.addFormRef.resetFields()}}},[a("el-form",{ref:"addFormRef",attrs:{rules:e.addFormRules,model:e.addForm,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{ref:"myname",attrs:{clearable:""},on:{clear:function(t){return e.getUserList()}},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{ref:"mypass",attrs:{"show-password":"",clearable:""},on:{clear:function(t){return e.getUserList()}},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{ref:"myemail",attrs:{clearable:""},on:{clear:function(t){return e.getUserList()}},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{ref:"mymobile",attrs:{clearable:""},on:{clear:function(t){return e.getUserList()}},model:{value:e.addForm.mobile,callback:function(t){e.$set(e.addForm,"mobile",t)},expression:"addForm.mobile"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addUser()}}},[e._v("提交")])],1)],1),a("el-dialog",{attrs:{title:"修改用户",visible:e.editDialog,width:"50%"},on:{"update:visible":function(t){e.editDialog=t},close:function(t){e.editForm={}}}},[a("el-form",{ref:"editFormRef",attrs:{rules:e.editFormRules,model:e.editForm,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{ref:"myname",attrs:{clearable:"",disabled:""},on:{clear:function(t){return e.getUserList()}},model:{value:e.editForm.username,callback:function(t){e.$set(e.editForm,"username",t)},expression:"editForm.username"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{ref:"myemail",attrs:{clearable:""},on:{clear:function(t){return e.getUserList()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.editUser()}},model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{ref:"mymobile",attrs:{clearable:""},on:{clear:function(t){return e.getUserList()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.editUser()}},model:{value:e.editForm.mobile,callback:function(t){e.$set(e.editForm,"mobile",t)},expression:"editForm.mobile"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editUser()}}},[e._v("提交")])],1)],1),a("el-dialog",{attrs:{title:"用户分配角色",visible:e.assigDialog,width:"50%"},on:{"update:visible":function(t){e.assigDialog=t},close:function(t){return e.$refs.assigFormRef.resetFields()}}},[a("el-form",{ref:"assigFormRef",attrs:{model:e.assigForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"当前用户：",prop:"username"}},[e._v(e._s(e.assigForm.username))]),a("el-form-item",{attrs:{label:"当前角色：",prop:"role_name"}},[e._v(e._s(e.assigForm.role_name))]),a("el-form-item",{attrs:{label:"新分配角色：",prop:"rid"}},[a("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.assigForm.rid,callback:function(t){e.$set(e.assigForm,"rid",t)},expression:"assigForm.rid"}},e._l(e.roleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})}),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.assigDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.assigUser()}}},[e._v("提交")])],1)],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入搜索内容",clearable:""},on:{clear:function(t){return e.getUserList()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getUserList()}},model:{value:e.reqParam.query,callback:function(t){e.$set(e.reqParam,"query",t)},expression:"reqParam.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.getUserList()}},slot:"append"})],1)],1),a("el-col",{attrs:{span:7}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialog=!0}}},[e._v("添加用户")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名",width:"150"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",width:"250"}}),a("el-table-column",{attrs:{prop:"role_name",label:"角色",width:"220"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"250"}}),a("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return a("el-switch",{attrs:{"active-color":"#13ce66"},on:{change:function(a){return e.modState(t.row.id,t.row.mg_state)}},model:{value:t.row.mg_state,callback:function(a){e.$set(t.row,"mg_state",a)},expression:"stData.row.mg_state"}})}}])}),a("el-table-column",{attrs:{label:"操作",width:"232"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.showEditDialog(t.row)}}}),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.delUser(t.row.id)}}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"设置角色",placement:"top",enterable:!1}},[a("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-setting"},on:{click:function(a){return e.showAssigDialog(t.row)}}})],1)]}}])})],1),a("el-pagination",{attrs:{"current-page":e.reqParam.pagenum,"page-sizes":[3,5,10,15],"page-size":e.reqParam.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.sum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},We=[],et={data:function(){var e=this,t=function(e,t,a){var r=/^[A-Za-z0-9\u4E00-\u9FA5_-]{3,16}$/;if(!r.test(t))return a(new Error("用户名格式不正确"));a()},a=function(e,t,a){var r=/^\d{6,}$/;if(!r.test(t))return a(new Error("密码格式不正确"));a()},r=function(t,a,r){var n=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!n.test(a))return e.$refs.myemail.getInput().style.border="2px solid red",r(new Error("邮箱格式不正确"));e.$refs.myemail.getInput().style.border="2px solid green",r()},n=function(t,a,r){var n=/^1[3-9]\d{9}$/;if(!n.test(a))return e.$refs.mymobile.getInput().style.border="2px solid red",r(new Error("手机号格式不正确"));e.$refs.mymobile.getInput().style.border="2px solid green",r()};return{userList:[],sum:0,reqParam:{query:"",pagenum:1,pagesize:+window.localStorage.getItem("pagenum")||3},addDialog:!1,addForm:{username:"",password:"",email:"",mobile:""},addFormRules:{username:[{required:!0,message:"用户名必填",trigger:"blur"},{validator:t,trigger:"change"}],password:[{required:!0,message:"密码必填",trigger:"blur"},{validator:a,trigger:"change"}],email:[{required:!0,message:"邮箱必填",trigger:"blur"},{validator:r,trigger:"change"}],mobile:[{required:!0,message:"手机号必填",trigger:"blur"},{validator:n,trigger:"change"}]},editDialog:!1,editForm:{username:"",email:"",mobile:""},editFormRules:{email:[{required:!0,message:"邮箱必填",trigger:"blur"},{validator:r,trigger:"change"}],mobile:[{required:!0,message:"手机号必填",trigger:"blur"},{validator:n,trigger:"change"}]},assigDialog:!1,assigForm:{id:"",username:"",role_name:"",rid:""},roleList:[]}},created:function(){this.getUserList()},methods:{getUserList:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("users",{params:this.reqParam});case 2:t=e.sent,a=t.data,this.sum=a.data.total,this.userList=a.data.users;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){console.log(e),this.reqParam.pagesize=e,window.localStorage.setItem("pagenum",e),this.getUserList()},handleCurrentChange:function(e){this.reqParam.pagenum=e,this.getUserList()},addUser:function(){var e=this;console.log(this.$refs.addFormRef),this.$refs.addFormRef.validate(function(){var t=Object(Ee["a"])(regeneratorRuntime.mark(function t(a){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return t.next=3,e.$http.post("users",e.addForm);case 3:r=t.sent,n=r.data,e.addDialog=!1,e.$message.success(n.meta.msg),e.getUserList();case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},delUser:function(e){var t=this;this.$confirm("确认删除吗?","删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(Ee["a"])(regeneratorRuntime.mark(function a(){var r,n;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("users/"+e);case 2:r=a.sent,n=r.data,t.$message.success(n.meta.msg),1!==t.reqParam.pagenum&&1===t.userList.length&&t.reqParam.pagenum--,t.getUserList();case 7:case"end":return a.stop()}},a)}))).catch(function(){})},showEditDialog:function(e){this.editDialog=!0,this.editForm=Object.assign({},e)},editUser:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=Object(Ee["a"])(regeneratorRuntime.mark(function t(a){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return t.next=3,e.$http.put("users/"+e.editForm.id,e.editForm);case 3:r=t.sent,n=r.data,console.log(n),e.$refs.editFormRef.clearValidate(),e.editDialog=!1,e.$message.success(n.meta.msg),e.getUserList();case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},showAssigDialog:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.assigDialog=!0,this.assigForm=t,e.next=4,this.$http.get("roles");case 4:a=e.sent,r=a.data,this.roleList=r.data;case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),assigUser:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==this.assigForm.rid){e.next=4;break}this.$message.error("请选择分配角色"),e.next=12;break;case 4:return e.next=6,this.$http.put("users/"+this.assigForm.id+"/role",{rid:this.assigForm.rid});case 6:t=e.sent,a=t.data,this.$refs.assigFormRef.clearValidate(),this.assigDialog=!1,this.$message.success(a.meta.msg),this.getUserList();case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),modState:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(t,a){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.put("users/"+t+"/state/"+a);case 2:r=e.sent,n=r.data,this.$message.success(n.meta.msg),this.getUserList();case 6:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},watch:{"addForm.username":function(e){e.trim().length>2?this.$refs.myname.getInput().style.border="2px solid green":0===e.trim().length?this.$refs.myname.getInput().style.border="2px solid #DCDFE6":this.$refs.myname.getInput().style.border="2px solid red"},"addForm.password":function(e){e.trim().length<6?this.$refs.mypass.getInput().style.border="2px solid red":this.$refs.mypass.getInput().style.border="2px solid green"}}},tt=et,at=Object(Le["a"])(tt,Qe,We,!1,null,"76628987",null),rt=at.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("bread-crumb",{attrs:{one:"商品管理",two:"商品分类",three:"categories"}}),a("el-dialog",{attrs:{title:"添加分类",visible:e.addDialog,width:"50%"},on:{"update:visible":function(t){e.addDialog=t},close:function(t){return e.resetForm()}}},[a("el-form",{ref:"addFormRef",attrs:{rules:e.addFormRules,model:e.addForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"分类名称：",prop:"cat_name"}},[a("el-input",{ref:"mycat_name",attrs:{clearable:""},on:{clear:function(t){return e.getCateList()}},model:{value:e.addForm.cat_name,callback:function(t){e.$set(e.addForm,"cat_name",t)},expression:"addForm.cat_name"}})],1),a("el-form-item",{attrs:{label:"分类级别：",prop:"selectTwoCate"}},[a("el-cascader",{attrs:{options:e.cateListTwo,props:{expandTrigger:"hover",value:"cat_id",label:"cat_name",checkStrictly:!0},clearable:""},on:{"active-item-change":e.handleChange,change:e.handleChange},model:{value:e.addForm.selectTwoCate,callback:function(t){e.$set(e.addForm,"selectTwoCate",t)},expression:"addForm.selectTwoCate"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addCate()}}},[e._v("添加")])],1)],1),a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-col",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showAddDialog()}}},[e._v("添加分类")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.cateList,border:"","row-key":"cat_id"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"cat_name",label:"分类名称",width:"330"}}),a("el-table-column",{attrs:{prop:"mobile",label:"是否有效",width:"280"}},[a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"rgb(68, 178, 170)"}})]),a("el-table-column",{attrs:{prop:"cat_level",label:"等级",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.cat_level?a("el-tag",[e._v("一级")]):1===t.row.cat_level?a("el-tag",{attrs:{type:"success"}},[e._v("二级")]):a("el-tag",{attrs:{type:"danger"}},[e._v("三级")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"296"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.showEditDialog(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.delUser(t.row.id)}}},[e._v("删除")])]}}])})],1)],1)],1)},st=[],ot={data:function(){return{cateList:[],reqParam:{type:3,pagenum:1,pagesize:5},addDialog:!1,addForm:{cat_name:"",selectTwoCate:[],cat_pid:0,cat_level:0},addFormRules:{cat_name:[{required:!0,message:"分类名必填",trigger:"blur"}]},cateListTwo:[]}},methods:{getCateList:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("categories",{params:this.reqParam});case 2:t=e.sent,a=t.data,this.cateList=a.data.result;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),showAddDialog:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.addDialog=!0,e.next=3,this.$http.get("categories",{params:{type:2}});case 3:t=e.sent,a=t.data,console.log(a),this.cateListTwo=a.data;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleChange:function(){var e=this.addForm.selectTwoCate;console.log(this.addForm.selectTwoCate),0===e.length?(this.addForm.cat_pid=0,this.addForm.cat_level=0):1===e.length?(this.addForm.cat_pid=e[0],this.addForm.cat_level=1):(this.addForm.cat_pid=e[1],this.addForm.cat_level=2)},addCate:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(Ee["a"])(regeneratorRuntime.mark(function t(a){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return t.next=3,e.$http.post("categories",e.addForm);case 3:r=t.sent,n=r.data,e.addDialog=!1,e.$message.success(n.meta.msg),e.getCateList();case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},resetForm:function(){this.$refs.addFormRef.resetFields(),this.addForm.cat_pid=0,this.addForm.cat_level=0}},created:function(){this.getCateList()}},it=ot,lt=Object(Le["a"])(it,nt,st,!1,null,"f47e683e",null),ct=lt.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("bread-crumb",{attrs:{one:"商品管理",two:"参数列表",three:"params"}}),a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"注意：只允许设置第三级别分类参数",type:"warning","show-icon":""}}),a("el-row",[a("el-col",[a("span",[e._v("选择商品分类： ")]),a("el-cascader",{attrs:{options:e.cateList,props:{expandTrigger:"hover",value:"cat_id",label:"cat_name"},clearable:""},on:{"active-item-change":e.handleChange,change:e.handleChange},model:{value:e.selectThreeCate,callback:function(t){e.selectThreeCate=t},expression:"selectThreeCate"}})],1)],1),a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"动态参数",name:"many"}},[a("el-button",{attrs:{type:"primary",disabled:e.disBtn,size:"mini"}},[e._v("添加动态参数")]),a("el-table",{attrs:{data:e.manyParamList}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.vals_arr,function(t){return a("el-tag",{key:t,attrs:{closable:""}},[e._v(e._s(t))])})}}])}),a("el-table-column",{attrs:{label:"序号",type:"index",width:"100"}}),a("el-table-column",{attrs:{label:"参数名称",prop:"attr_name"}}),a("el-table-column",{attrs:{label:"操作",width:"240"}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.showEditDialog(e.stData.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){e.showEditDialog(e.stData.row).id}}},[e._v("删除")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"静态参数",name:"only"}},[a("el-button",{attrs:{type:"primary",disabled:e.disBtn,size:"mini"}},[e._v("添加静态参数")]),a("el-table",{attrs:{data:e.onlyParamList}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.vals_arr,function(t){return a("el-tag",{key:t,attrs:{closable:""}},[e._v(e._s(t))])})}}])}),a("el-table-column",{attrs:{label:"序号",type:"index",width:"100"}}),a("el-table-column",{attrs:{label:"参数名称",prop:"attr_name"}}),a("el-table-column",{attrs:{label:"操作",width:"240"}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.showEditDialog(e.stData.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){e.showEditDialog(e.stData.row).id}}},[e._v("删除")])],1)],1)],1)],1)],1)],1)},dt=[],mt=(a("28a5"),a("ac6a"),{created:function(){this.getCateList()},data:function(){return{cateList:[],selectThreeCate:[],activeName:"only",disBtn:!0,selectCateId:0,manyParamList:[],onlyParamList:[]}},methods:{handleChange:function(){var e=this.selectThreeCate.length;3===e?(this.disBtn=!1,this.selectCateId=this.selectThreeCate[2],this.getParamList()):(this.disBtn=!0,this.selectThreeCate=[],this.selectCateId=0,this.manyParamList=[],this.onlyParamList=[])},getCateList:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("categories",{params:{type:3}});case 2:t=e.sent,a=t.data,this.cateList=a.data;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getParamList:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("categories/"+this.selectCateId+"/attributes",{params:{sel:this.activeName}});case 2:t=e.sent,a=t.data,console.log(a),a.data.forEach(function(e){e.vals_arr=e.attr_vals.split(" ")}),"many"===this.activeName?this.manyParamList=a.data:this.onlyParamList=a.data;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleClick:function(){0!==this.selectCateId&&this.getParamList()}}}),pt=mt,ft=(a("5baf"),Object(Le["a"])(pt,ut,dt,!1,null,"00e79006",null)),gt=ft.exports,ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("bread-crumb",{attrs:{one:"商品管理",two:"商品列表",three:"goods"}}),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入搜索内容",clearable:""},on:{clear:e.search},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.reqParam.query,callback:function(t){e.$set(e.reqParam,"query",t)},expression:"reqParam.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"})],1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.push("/goodsadd")}}},[e._v("添加商品")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.goodsList,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"goods_price",label:"商品价格(元)",width:"100"}}),a("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量",width:"80"}}),a("el-table-column",{attrs:{label:"创建时间",width:"190"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("dateFormat")(t.row.add_time,"上海")))])]}}])}),a("el-table-column",{attrs:{prop:"",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.delGoods(t.row.goods_id)}}})]}}])})],1),a("el-pagination",{attrs:{"current-page":e.reqParam.pagenum,"page-sizes":[3,5,10,15],"page-size":e.reqParam.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.sum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},bt=[],vt={data:function(){return{goodsList:[],sum:0,reqParam:{query:"",pagenum:1,pagesize:+window.localStorage.getItem("pagenum")||3}}},created:function(){this.getGoodsList()},methods:{delGoods:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$confirm("确认要删除该商品么?","删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(Ee["a"])(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$http.delete("goods/"+t);case 2:r=e.sent,n=r.data,a.$message.success(n.meta.msg),1!==a.reqParam.pagenum&&1===a.userList.length&&a.reqParam.pagenum--,a.getGoodsList();case 7:case"end":return e.stop()}},e)}))).catch(function(){});case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),search:function(){this.reqParam.pagenum=1,this.getGoodsList()},handleSizeChange:function(e){this.reqParam.pagesize=e,window.localStorage.setItem("pagenum",e),this.getGoodsList()},handleCurrentChange:function(e){this.reqParam.pagenum=e,this.getGoodsList()},getGoodsList:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("goods",{params:this.reqParam});case 2:t=e.sent,a=t.data,this.goodsList=a.data.goods,this.sum=a.data.total;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},filters:{dateFormat:function(e,t){var a=new Date(e),r=a.getFullYear(),n=a.getMonth()+1,s=a.getDate(),o=a.getHours(),i=a.getMinutes(),l=a.getSeconds();return"".concat(t,"：").concat(r,"-").concat(n,"-").concat(s," ").concat(o,":").concat(i,":").concat(l)}}},yt=vt,wt=Object(Le["a"])(yt,ht,bt,!1,null,"7f9b39f3",null),_t=wt.exports,xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("bread-crumb",{attrs:{one:"商品列表",two:"添加商品",three:"goods"}}),a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"需要添加商品分类的详细信息",type:"info","show-icon":"",center:""}}),a("el-steps",{attrs:{active:+e.activeName,"align-center":"","finish-status":"success"}},[a("el-step",{attrs:{title:"基本信息"}}),a("el-step",{attrs:{title:"商品参数"}}),a("el-step",{attrs:{title:"商品属性"}}),a("el-step",{attrs:{title:"商品图片"}}),a("el-step",{attrs:{title:"商品内容"}}),a("el-step",{attrs:{title:"完成"}})],1),a("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"120px"}},[a("el-tabs",{attrs:{"tab-position":"left","before-leave":e.tabBeforeLeave},on:{"tab-click":e.tabClicked},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[a("el-form-item",{attrs:{prop:"goods_name",label:"商品名称："}},[a("el-input",{model:{value:e.addForm.goods_name,callback:function(t){e.$set(e.addForm,"goods_name",t)},expression:"addForm.goods_name"}})],1),a("el-form-item",{attrs:{prop:"goods_price",label:"商品价格："}},[a("el-input",{model:{value:e.addForm.goods_price,callback:function(t){e.$set(e.addForm,"goods_price",t)},expression:"addForm.goods_price"}})],1),a("el-form-item",{attrs:{prop:"goods_weight",label:"商品重量："}},[a("el-input",{model:{value:e.addForm.goods_weight,callback:function(t){e.$set(e.addForm,"goods_weight",t)},expression:"addForm.goods_weight"}})],1),a("el-form-item",{attrs:{prop:"goods_number",label:"商品数量："}},[a("el-input",{model:{value:e.addForm.goods_number,callback:function(t){e.$set(e.addForm,"goods_number",t)},expression:"addForm.goods_number"}})],1),a("el-form-item",{attrs:{label:"商品分类：",prop:"selectThreeCate"}},[a("el-cascader",{attrs:{options:e.cateList,props:{expandTrigger:"hover",value:"cat_id",label:"cat_name"},clearable:""},on:{"active-item-change":e.handleChange,change:e.handleChange},model:{value:e.addForm.selectThreeCate,callback:function(t){e.$set(e.addForm,"selectThreeCate",t)},expression:"addForm.selectThreeCate"}})],1)],1),a("el-tab-pane",{attrs:{label:"动态参数",name:"1"}},e._l(e.manyParamList,function(t){return a("el-form-item",{key:t.attr_id,attrs:{label:t.attr_name}},[a("el-checkbox-group",{model:{value:t.vals_arr2,callback:function(a){e.$set(t,"vals_arr2",a)},expression:"item.vals_arr2"}},e._l(t.vals_arr,function(e){return a("el-checkbox",{key:e,attrs:{label:e,border:""}})}),1)],1)}),1),a("el-tab-pane",{attrs:{label:"静态参数",name:"2"}},e._l(e.onlyParamList,function(t){return a("el-form-item",{key:t.attr_id,attrs:{label:t.attr_name,"label-width":"150px"}},[a("el-input",{model:{value:t.attr_vals,callback:function(a){e.$set(t,"attr_vals",a)},expression:"item.attr_vals"}})],1)}),1),a("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[a("el-upload",{attrs:{action:"http://127.0.0.1:11333/api/private/v1/upload","on-remove":e.uploadRemove,"list-type":"picture","on-success":e.uploadSuccess,headers:e.uploadHeaders}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),a("el-tab-pane",{attrs:{label:"商品分类",name:"4"}},[a("quill-editor",{model:{value:e.addForm.goods_introduce,callback:function(t){e.$set(e.addForm,"goods_introduce",t)},expression:"addForm.goods_introduce"}}),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addGoods()}}},[e._v("添加商品详情")])],1)],1)],1)],1)],1)},kt=[],Ft=(a("20d6"),a("a753"),a("8096"),a("14e1"),a("953d")),$t={data:function(){return{activeName:"0",addForm:{goods_name:"",goods_price:"",goods_weight:"",goods_number:"",selectThreeCate:[],pics:[],goods_introduce:"",goods_cat:"",attrs:[]},addFormRules:{goods_name:[{required:!0,message:"商品名称必填",trigger:"blur"}],goods_price:[{required:!0,message:"商品价格必填",trigger:"blur"}],goods_weight:[{required:!0,message:"商品重量必填",trigger:"blur"}],goods_number:[{required:!0,message:"商品数量必填",trigger:"blur"}],selectThreeCate:[{required:!0,message:"商品分类必选",trigger:"change"}]},cateList:[],selectCateId:0,uploadHeaders:{Authorization:window.sessionStorage.getItem("token")},manyParamList:[],onlyParamList:[]}},methods:{handleChange:function(){var e=this.addForm.selectThreeCate.length;3===e?(this.selectCateId=this.addForm.selectThreeCate[2],this.addForm.goods_cat=this.addForm.selectThreeCate.join(",")):(this.selectCateId=0,this.addForm.goods_cat="")},getCateList:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("categories",{params:{type:3}});case 2:t=e.sent,a=t.data,this.cateList=a.data;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),tabBeforeLeave:function(){if(0===this.selectCateId)return this.$message.error("请先选取第三级别分类！！"),!1},uploadSuccess:function(e){if(200!==e.meta.status)return this.$message.error(e.meta.msg);var t={pic:e.data.tmp_path};this.addForm.pics.push(t)},uploadRemove:function(e){console.log(e);var t=this.addForm.pics.findIndex(function(t){return t.pic===e.response.data.tmp_path});this.addForm.pics.splice(t,1)},tabClicked:function(){var e=Object(Ee["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("1"!==this.activeName){e.next=9;break}return e.next=3,this.$http.get("categories/"+this.selectCateId+"/attributes",{params:{sel:"many"}});case 3:t=e.sent,a=t.data,a.data.forEach(function(e){console.log(e),e.vals_arr=e.attr_vals.split(" "),e.vals_arr2=e.attr_vals.split(" ")}),this.manyParamList=a.data,e.next=15;break;case 9:if("2"!==this.activeName){e.next=15;break}return e.next=12,this.$http.get("categories/"+this.selectCateId+"/attributes",{params:{sel:"only"}});case 12:r=e.sent,n=r.data,this.onlyParamList=n.data;case 15:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addGoods:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(Ee["a"])(regeneratorRuntime.mark(function t(a){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=11;break}return e.manyParamList.forEach(function(t){var a={attr_id:t.attr_id,attr_value:t.vals_arr2.join(" ")};e.addForm.attrs.push(a)}),e.onlyParamList.forEach(function(t){var a={attr_id:t.attr_id,attr_value:t.attr_vals};e.addForm.attrs.push(a)}),console.log(e.addForm),t.next=6,e.$http.post("goods",e.addForm);case 6:r=t.sent,n=r.data,console.log(n),e.$message.success(n.meta.msg),e.$router.push("goods");case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},created:function(){this.getCateList()},components:{quillEditor:Ft["quillEditor"]}},Ct=$t,Lt=(a("e451"),Object(Le["a"])(Ct,xt,kt,!1,null,"592ff844",null)),Rt=Lt.exports,Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("bread-crumb",{attrs:{one:"数据统计",two:"数据报表",three:"reports"}}),a("el-card",{staticClass:"box-card"},[a("div",{ref:"rep",staticStyle:{width:"750px",height:"400px"},attrs:{id:"report"}})]),a("el-card",{staticClass:"box-card"},[a("div",{ref:"rep1",staticStyle:{width:"750px",height:"400px"},attrs:{id:"report1"}})]),a("el-card",{staticClass:"box-card"},[a("div",{ref:"rep2",staticStyle:{width:"750px",height:"400px"},attrs:{id:"report2"}})]),a("el-card",{staticClass:"box-card"},[a("div",{ref:"rep3",staticStyle:{width:"750px",height:"400px"},attrs:{id:"report3"}})])],1)},Pt=[],jt=a("164e"),qt=a.n(jt),St={mounted:function(){this.paintDataPic(),this.pieChart(),this.lineChart(),this.recChart()},methods:{paintDataPic:function(){var e=qt.a.init(this.$refs.rep);e.setOption({title:{text:"ECharts 入门示例"},tooltip:{},xAxis:{data:["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"销量",type:"bar",data:[5,20,36,10,10,20]}]})},pieChart:function(){var e=qt.a.init(this.$refs.rep1);e.setOption({title:{text:"某站点用户访问来源",subtext:"使用的是定死的假数据：",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["华东","华南","华北","西部","其它"]},series:[{name:"访问来源",type:"pie",radius:"65%",center:["65%","55%"],data:[{value:335,name:"华东"},{value:310,name:"华南"},{value:234,name:"华北"},{value:135,name:"西部"},{value:1e3,name:"其它"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},lineChart:function(){var e=qt.a.init(this.$refs.rep2);e.setOption({title:{text:"用户来源"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["华东","华南","华北","西部","其它"]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["2019-7-12","2019-7-13","2019-7-14","2019-7-15","2019-7-16","2019-7-17","2019-7-18"]}],yAxis:[{type:"value"}],series:[{name:"华东",type:"line",stack:"总量",areaStyle:{},data:[1200,1320,1010,1340,900,2300,2100]},{name:"华南",type:"line",stack:"总量",areaStyle:{},data:[2200,1802,1901,2340,2900,3300,3100]},{name:"华北",type:"line",stack:"总量",areaStyle:{},data:[1500,2302,2010,1504,1900,3300,4100]},{name:"西部",type:"line",stack:"总量",areaStyle:{normal:{}},data:[3200,3320,3010,3340,3900,3300,3200]},{name:"其它",type:"line",stack:"总量",label:{normal:{show:!0,position:"top"}},areaStyle:{normal:{}},data:[8200,9302,9001,9304,12900,13300,13200]}]})},recChart:function(){var e=qt.a.init(this.$refs.rep3);e.setOption({series:[{type:"treemap",data:[{name:"nodeA",value:10,children:[{name:"nodeAa",value:4},{name:"nodeAb",value:6}]},{name:"nodeB",value:20,children:[{name:"nodeBa",value:20,children:[{name:"nodeBa1",value:20}]}]}]}]})}}},Dt=St,Et=Object(Le["a"])(Dt,Ot,Pt,!1,null,"0da0f79a",null),Tt=Et.exports;Fe.a.use(qe.a);var zt=new qe.a({routes:[{path:"/",redirect:"/login"},{path:"/login",component:Ue},{path:"/home",component:Ve,redirect:"/welcome",children:[{path:"/welcome",component:Ke},{path:"/users",component:rt},{path:"/categories",component:ct},{path:"/params",component:gt},{path:"/goods",component:_t},{path:"/goodsadd",component:Rt},{path:"/reports",component:Tt}]}]});zt.beforeEach(function(e,t,a){var r=window.sessionStorage.getItem("token");if(!r&&"/login"!==e.path)return a("/login");a()});var It=zt,Ut=(a("aede"),a("0fae"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),a("el-breadcrumb-item",{attrs:{to:{path:"/"+e.three}}},[e._v(e._s(e.one))]),a("el-breadcrumb-item",[e._v(e._s(e.two))])],1)],1)}),Bt=[],Nt={props:["one","two","three"]},At=Nt,Gt=Object(Le["a"])(At,Ut,Bt,!1,null,"3f0f18de",null),Mt=Gt.exports,Vt=a("1af2"),Ht=a.n(Vt),Jt=(a("a5d8"),a("cebe")),Xt=a.n(Jt);Ht.a.configure({showSpinner:!1}),Fe.a.component("bread-crumb",Mt),Xt.a.defaults.baseURL="http://127.0.0.1:11333/api/private/v1/",Xt.a.interceptors.request.use(function(e){Ht.a.start();var t=window.sessionStorage.getItem("token");return e.headers.Authorization=t,e},function(e){return Promise.reject(e)}),Fe.a.prototype.$http=Xt.a,Fe.a.config.productionTip=!1,Fe.a.use(xe.a),Fe.a.use(we.a),Fe.a.use(ve.a),Fe.a.use(he.a),Fe.a.use(fe.a),Fe.a.use(me.a),Fe.a.use(ue.a),Fe.a.use(le.a),Fe.a.use(oe.a),Fe.a.use(ne.a),Fe.a.use(ae.a),Fe.a.use(ee.a),Fe.a.use(Q.a),Fe.a.use(Z.a),Fe.a.use(X.a),Fe.a.use(H.a),Fe.a.use(M.a),Fe.a.use(A.a),Fe.a.use(B.a),Fe.a.use(I.a),Fe.a.use(T.a),Fe.a.use(D.a),Fe.a.use(q.a),Fe.a.use(P.a),Fe.a.use(R.a),Fe.a.use(C.a),Fe.a.use(F.a),Fe.a.use(x.a),Fe.a.use(w.a),Fe.a.use(v.a),Fe.a.use(h.a),Fe.a.use(f.a),Fe.a.use(m.a),Fe.a.use(u.a),Fe.a.use(l.a),Fe.a.prototype.$confirm=o.a.confirm,Fe.a.prototype.$message=n.a,new Fe.a({created:function(){var e=this;Xt.a.interceptors.response.use(function(t){return Ht.a.done(),200!==t.data.meta.status&&201!==t.data.meta.status?(console.log(e),e.$message.error(t.data.meta.msg)):t},function(e){return Promise.reject(e)})},router:It,render:function(e){return e(Pe)}}).$mount("#app")},"5baf":function(e,t,a){"use strict";var r=a("3ae1"),n=a.n(r);n.a},6389:function(e,t){e.exports=VueRouter},"71c3":function(e,t,a){e.exports=a.p+"img/jump.f5fdac42.gif"},7569:function(e,t,a){},"7def":function(e,t,a){"use strict";var r=a("49a1"),n=a.n(r);n.a},"82da":function(e,t,a){},"8bbf":function(e,t){e.exports=Vue},ab19:function(e,t,a){},aede:function(e,t,a){},b0b6:function(e,t,a){},b6fe:function(e,t,a){"use strict";var r=a("b0b6"),n=a.n(r);n.a},cebe:function(e,t){e.exports=axios},d20b:function(e,t,a){e.exports=a.p+"img/BML.6af3167e.jpg"},e451:function(e,t,a){"use strict";var r=a("ab19"),n=a.n(r);n.a},ebfb:function(e,t,a){"use strict";var r=a("7569"),n=a.n(r);n.a}});
//# sourceMappingURL=app.5fac00db.js.map